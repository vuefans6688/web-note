<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>query-url-params-查询地址栏参数</title>
</head>

<body>
  <script>
    function queryUrlParams(url) {
      // 创建a标签来获取问号和哈希参数
      let link = document.createElement('a')
      link.href = url
      let askText = link.search.substr(1)
      let poundText = link.hash.substr(1)
      let datas = {}
      // 存进对象中
      poundText ? datas['hash'] = poundText : null
      if (askText) {
        // 同时按照两个字符来拆分
        let arrays = askText.split(/(?:&|=)/g)
        for (let i = 0; i < arrays.length; i += 2) {
          // arrays[i]是属性名，arrays[i + 1]是属性值
          datas[arrays[i]] = arrays[i + 1]
        }
      }
      return datas
    }
    // {hash: "video", id: "123456", name: "js", from: "baidu"}
    queryUrlParams('http://www.zhufengpeixun.cn/?id=123456&name=js&from=baidu#video')
  </script>
</body>

</html>